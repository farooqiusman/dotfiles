
      import java.io.*;
%%
%{   
      public static int _identifiers = 0, _keywords = 0, _numbers = 0, _comments = 0, _quoted = 0;
      public static void main(String argv[]) throws java.io.IOException {}

        A2 yy = new A2(new FileReader("A2.input"));
          while (yy.yylex() >= 0){
          }
      
          FileWriter writer = new FileWriter("A2.output");
          writer.write("identifiers: " + _identifiers +"\nkeywords: " + _keywords + "\nnumbers: " + _numbers + "\ncomments: " + _comments + "\nquotedStrings: " + _quoted);
          writer.close();
      }
%}
%integer
%type int
%class A2
%eofval{ return;
%eofval}
%state COMMENT

KEYWORDS = WRITE|READ|IF|ELSE|RETURN|BEGIN|END|MAIN|INT|REAL
IDENTIFIERS = [a-zA-Z][a-zA-Z0-9]*
NUMBERS = [0-9]*[.]*[0-9]*
QUOTES = \"[^\"]*\"

%%
<YYINITIAL>"/**" {yybegin(COMMENT);} 
<COMMENT>"**/" {yybegin(YYINITIAL);_comments++;}

<YYINITIAL>{KEYWORDS} {_keywords++;}
<YYINITIAL>{IDENTIFIERS} {_identifiers++;}
<YYINITIAL>{NUMBERS} {_numbers++;}
<YYINITIAL>{QUOTES} {_quoted++;} 
\r|\n {}
. {}
