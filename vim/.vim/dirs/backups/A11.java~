/*
 * Usman Farooqi
 * 105219637
 * A11.java
 */ 

import java.io.FileReader;
import java.io.BufferedReader;
import java.util.Set;
import java.util.HashSet;

public class A11 {
    static boolean isLetter(int character) {
        return (character >= 'a' && character <= 'z') || (character >= 'A' && character <= 'Z');
    }

    static boolean isLetterOrDigit(int character) {
        return isLetter(character) || (character >= '0' && character <= '9');
    }

    public static Set<String> getIdentifiers(String filename) throws Exception{
        String[] keywordsArray = { "IF", "WRITE", "READ", "RETURN", "BEGIN",
            "END", "MAIN", "INT", "REAL" };
        Set<String> keywords = new HashSet<>();
        Set<String> identifiers = new HashSet<>();
        for (String s : keywordsArray) {
            keywords.add(s);
        }
        FileReader reader = new FileReader(filename);
        BufferedReader br = new BufferedReader(reader);
        String line;
        while((line = br.readLine()) != null){ 
            int i=0;
            while(i < line.length()){
                if (line.charAt(i)=='"'){ // if a " is found
                    i++; // increment to get next letter 
                    while(i < line.length() && line.charAt(i) != '"'){ // check to make sure i not > lentgth 
                        i++; // keep incrementing until next " is found
                    }
                }
                String token = "";
                if(isLetter(line.charAt(i))){ // check if current character is a letter
                    token += line.charAt(i); // add the letter to token
                    i++; // get next letter
                    while(i < line.length() && isLetterOrDigit(line.charAt(i))){ //if next letter is letter or digit
                        token += line.charAt(i); // add to token 
                        i++; // get next letter 
                    }
                    if(!keywords.contains(token)){ // if token is not in keywords
                        identifiers.add(token); // add to identifiers
                    }
                }else {
                    i++; 
                }
            }
        }

        return identifiers;
    }

    public static void main(String[] args) throws Exception{
        Set<String> ids=getIdentifiers("A1.tiny");
        for (String id :ids)
            System.out.println(id);
    }
}
